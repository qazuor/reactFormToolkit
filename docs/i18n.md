# Internationalization Guide

## Overview

The React Form Toolkit provides comprehensive internationalization (i18n) support for form content, validation messages, and UI elements. It integrates seamlessly with i18next and supports custom translations.

## Basic Usage

```tsx
import { FormProvider } from '@qazuor/react-form-toolkit';

function MyForm() {
    return (
        <FormProvider
            schema={schema}
            onSubmit={handleSubmit}
            i18n={{
                lng: 'es', // Force Spanish language
                resources: {
                    es: {
                        field: {
                            error: 'Error del Campo',
                            info: 'InformaciÃ³n del Campo'
                        }
                    }
                }
            }}
        >
            {/* Form fields */}
        </FormProvider>
    );
}
```

## Configuration Options

The `i18n` prop accepts the following options:

```typescript
interface I18nOptions {
    resources?: TranslationResources;  // Custom translations
    lng?: 'en' | 'es';                // Force specific language
    i18n?: i18next.i18n;              // Custom i18next instance
}
```

### Custom Resources

You can provide partial translations that will be merged with the default messages:

```typescript
const customTranslations = {
    en: {
        field: {
            error: 'Field Error',
            info: 'Field Information'
        },
        form: {
            error: 'Form Error',
            loading: 'Loading...',
            success: 'Success!'
        }
    }
};
```

## Validation Messages

The toolkit includes built-in translations for Zod validation messages. These can be customized or extended:

```typescript
const schema = z.object({
    email: z.string().email('Please enter a valid email'), // Direct message
    password: z.string().min(8)  // Uses i18n translation
});
```

### Available Error Types

- `invalid_type`: Type validation errors
- `invalid_string`: String validation (email, url, etc.)
- `too_small`: Minimum length/size validation
- `too_big`: Maximum length/size validation
- And more...

## Working with Existing i18next Setup

If your project already uses i18next, the toolkit will integrate with your existing setup:

```tsx
import { useTranslation } from 'react-i18next';

function MyForm() {
    const { i18n } = useTranslation();

    return (
        <FormProvider
            schema={schema}
            onSubmit={handleSubmit}
            i18n={{ i18n }}  // Use existing instance
        >
            {/* Form fields */}
        </FormProvider>
    );
}
```

## Language Detection

1. If `lng` is provided in options, it takes precedence
2. Otherwise, uses the language from i18next instance
3. Falls back to 'en' if no language is specified

## Using the Translation Hook

The toolkit provides a `useQRFTTranslation` hook for accessing translations:

```tsx
import { useQRFTTranslation } from '@qazuor/react-form-toolkit';

function CustomField() {
    const { t } = useQRFTTranslation();

    return (
        <div>
            <span>{t('field.error')}</span>
            <span>{t('form.loading')}</span>
        </div>
    );
}
```

## Translation Structure

Default translations are organized as follows:

```typescript
{
    field: {
        error: string;    // Field error message
        info: string;     // Field information tooltip
    },
    form: {
        error: string;    // Form-level error message
        loading: string;  // Loading state message
        success: string;  // Success state message
    }
}
```

## Best Practices

1. **Consistent Keys**: Use consistent translation keys across your application

2. **Namespace Organization**: Group related translations under namespaces

3. **Fallback Messages**: Always provide English fallbacks for all messages

4. **Type Safety**: Use TypeScript to ensure translation key consistency

5. **Testing**: Test forms with different languages to ensure proper translation
